<body style=max-width:80ch;margin:auto>
<h1 class="entry-title" style="margin-bottom:15px;">How can I configure my Windows NT service to autostart when the system gains Internet access?</h1>  <!-- .entry-meta -->

<p>When configuring a Windows NT service, you can set the <code>SERVICE_</code><code>TRIGGER_</code><code>INFO</code> to include a <code>SERVICE_</code><code>TRIGGER</code> that uses the <code>SERVICE_</code><code>TRIGGER_</code><code>TYPE_</code><code>IP_</code><code>ADDRESS_</code><code>AVAILABILITY</code> trigger, so that it starts and stops based on whether the system has network access.</p>
<table border="1" cellpadding="3" cellspacing="3" class="cp3" style="border-collapse: collapse;">
<tbody>
<tr>
<th> </th>
<th>Start when access gained</th>
<th>Stop when access lost</th>
</tr>
<tr>
<td><code>dwTrigger</code></td>
<td align="center" colspan="2"><code>SERVICE_</code><code>TRIGGER_</code><code>TYPE_</code><code>IP_</code><code>ADDRESS_</code><code>AVAILABILITY</code></td>
</tr>
<tr>
<td><code>dwAction</code></td>
<td><code>SERVICE_</code><code>TRIGGER_</code><code>ACTION_</code><code>SERVICE_</code><code>START</code></td>
<td><code>SERVICE_</code><code>TRIGGER_</code><code>ACTION_</code><code>SERVICE_</code><code>STOP</code></td>
</tr>
<tr>
<td><code>pTriggerSubtype</code></td>
<td><code>&amp;NETWORK_</code><code>MANAGER_</code><code>FIRST_</code><code>IP_</code><code>ADDRESS_</code><code>ARRIVAL_</code><code>GUID</code></td>
<td><code>&amp;NETWORK_</code><code>MANAGER_</code><code>LAST_</code><code>IP_</code><code>ADDRESS_</code><code>REMOVAL_</code><code>GUID</code></td>
</tr>
</tbody>
</table>
<p>Note that this will run your service when the system has an IP address, which is not the same as saying that the system has Internet access. It could be on an intranet, or it could be stuck behind a captive portal.</p>


</body>