<body style=max-width:80ch;margin:auto>
<h1 class="entry-title" style="margin-bottom:15px;">Why is the HSHELL_WINDOWDESTROYED notification raised when a window is hidden, even if it hasn’t been destroyed?</h1>  <!-- .entry-meta -->

<p>The shell notification <code>HSHELL_<wbr/>WINDOW­CREATED</code> means that there is a new top-level unowned visible window. Conversely, <code>HSHELL_<wbr/>WINDOW­DESTROYED</code> means that a window is no longer a top-level unowned visible window. But these state changes can occur for reasons other than a window being created and destroyed. For example, if a top-level window hides itself, then that will generate a <code>HSHELL_<wbr/>WINDOW­DESTROYED</code> notification, even though no window was destroyed.</p>
<p>Why don’t the names align with what they mean?</p>
<p>These notifications were named while wearing taskbar-colored glasses.</p>
<p>These notifications were created to assist the taskbar in keeping track of the windows in the system. The taskbar shows top-level unowned visible windows, so that’s what the notifications pay attention to. If you hide a top-level unowned window, it hasn’t been destroyed, but it may as well have been destroyed as far as the taskbar is concerned: The window disappears from the taskbar.</p>
<p>Conversely, when the window becomes visible again, it gains a taskbar button. As far as the taskbar is concerned, it may as well have been newly-created.</p>


</body>