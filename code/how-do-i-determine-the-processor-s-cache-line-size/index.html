<body style=max-width:80ch;margin:auto>
<h1 class="entry-title" style="margin-bottom:15px;">How do I determine the processor's cache line size?</h1>  <!-- .entry-meta -->

<p>When doing high-performance computing, you need to worry about the CPU cache line size in order to avoid issues like <i>false sharing</i>. But how can you determine the processor’s cache size?
 The <code>GetLogicalProcessorInformation</code> function will give you characteristics of the logical processors in use by the system. You can <a href="http://msdn.microsoft.com/en-us/library/ms683194(VS.85).aspx"> walk the <code>SYSTEM_LOGICAL_PROCESSOR_INFORMATION</code></a> returned by the function looking for entries of type <code>RelationCache</code>. Each such entry contains a <code>ProcessorMask</code> which tells you which processor(s) the entry applies to, and in the <a href="http://msdn.microsoft.com/en-us/library/ms681979(VS.85).aspx"> <code>CACHE_DESCRIPTOR</code></a>, it tells you what type of cache is being described and how big the cache line is for that cache.</p>
<p> Windows 7 adds the function <a href="http://msdn.microsoft.com/en-us/library/dd405488(VS.85).aspx"> <code>GetLogicalProcessorInformationEx</code></a> which does the <code>RelationCache</code> filtering for you. </p>


</body>