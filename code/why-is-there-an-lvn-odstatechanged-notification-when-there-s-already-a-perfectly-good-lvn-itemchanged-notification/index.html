<body style=max-width:80ch;margin:auto>
<h1 class="entry-title" style="margin-bottom:15px;">Why is there an LVN_ODSTATECHANGED notification when there's already a perfectly good LVN_ITEMCHANGED notification?</h1>  <!-- .entry-meta -->

<p>If you <a href="http://blogs.msdn.com/oldnewthing/archive/2005/06/15/429338.aspx"> work with owner-data listviews</a>, you take the responsibility for managing the data associated with each item in the list view. The list view control itself only knows how many items there are; when it needs information about an item, it asks you for it. It’s the fancy name for a “virtual list view” control.
 When you use an ownerdata list view, you will receive a new notification, <code>LVN_ODSTATECHANGED</code>. The <i>OD</i> stands for ownerdata, so this is an “owner data state changed” notification. The list view sends this notification when the state of one or more items in an owner data list view control change simultaneously. Mind you, the list view control can also send the <code>LVN_ITEMCHANGED</code> notification if the state of an item changes, so you need to be on the lookout for both.
 If there is a notification <code>LVN_ITEMCHANGED</code>, then what’s the purpose of the <code>LVN_ODSTATECHANGED</code> message? It’s redundant, after all.</p>
<p> Well yes, it’s redundant, but it’s faster, too. The <code>LVN_ODSTATECHANGED</code> notification tells you that the state of all items in the specified range has changed. It’s a shorthand for sending an individual <code>LVN_ITEMCHANGED</code> for all items in the range [iFrom..iTo]. If you have an ownerdata list view with 500,000 items and somebody does a select-all, you’ll be glad that you get a single <code>LVN_ODSTATECHANGED</code> notification with <code>iFrom=0</code> and <code>iTo=499999</code> instead of a half million individual little <code>LVN_ITEMCHANGED</code> notifications. </p>


</body>