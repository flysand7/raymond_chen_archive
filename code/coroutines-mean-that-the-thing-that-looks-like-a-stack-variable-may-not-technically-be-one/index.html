<body style=max-width:80ch;margin:auto>
<h1 class="entry-title" style="margin-bottom:15px;">Coroutines mean that the thing that looks like a stack variable may not technically be one</h1>  <!-- .entry-meta -->

<p>Some time ago, <a href="https://blogs.msdn.microsoft.com/oldnewthing/20160728-00/?p=93975">I pointed out the <code>Get­Current­Thread­Stack­Limits</code> function</a> which lets you determine whether a  pointer points into the stack. </p>
<p>Note, however, that if the local variable is captured by a coroutine, <a href="https://blogs.msdn.microsoft.com/vcblog/2015/11/30/coroutines-in-visual-studio-2015-update-1/">The introduction of coroutines into the C++ language</a> means that what looks like a local variable may end up being hoisted into a heap-allocated object representing the coroutine itself (like, say, a <code>std::future</code>). </p>
<p>Something to bear in mind if you’re going to be making decisions based on whether a variable is on the stack. </p>


</body>