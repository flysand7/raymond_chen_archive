<body style=max-width:80ch;margin:auto>
<h1 class="entry-title" style="margin-bottom:15px;">How do I disable the fault-tolerant heap?</h1>  <!-- .entry-meta -->

<p>A while back, I <a href="http://blogs.msdn.com/b/oldnewthing/archive/2010/03/31/9987780.aspx"> linked to</a> a talk by Silviu Calinoiu on <a href="https://channel9.msdn.com/shows/Going+Deep/Silviu-Calinoiu-Inside-Windows-7-Fault-Tolerant-Heap/"> the fault-tolerant heap</a>. But what if you don’t want the fault-tolerant heap? For example, during program development, you probably want to disable the fault-tolerant heap for your program: If the program is crashing, then it should <i>crash</i> so you can debug it!
 Method 1 is to <a href="http://msdn.microsoft.com/library/dd744764.aspx"> disable the fault-tolerant heap globally</a>. While this prevents the fault-tolerant heap from auto-activating in the future, it does not go back and undo activations that were enabled in the past. In other words, you have to remember to do this <i>before</i> your application crashes for the first time.
 Therefore, you probably want to combine Method 1 with Method 2 on the same page, where it gives instructions on how to reset the list of applications for which the fault-tolerant heap is enabled.
 Mario Raccagni provides a third way of disabling the fault tolerant heap, this time for one specific process instead of globally. <a href="http://blogs.msdn.com/b/itasupport/archive/2009/10/08/come-disabilitare-il-fault-tolerant-heap.aspx"> His explanation is in Italian</a>, so you get to exercise your translation skills.</p>
<p> tl;dr version: Go to the <code>HKEY_LOCAL_MACHINE</code> and <code>HKEY_CURRENT_USER</code> versions of <code>Software\Microsoft\Windows NT\CurrentVersion\AppCompatFlags\Layers\</code><i>your_application.exe</i> and delete the <code>Fault­Tolerant­Heap</code> entry. </p>


</body>