<body style=max-width:80ch;margin:auto>
<h1 class="entry-title" style="margin-bottom:15px;">Why don't you forward WM_GETMINMAXINFO and clamp the results?</h1>  <!-- .entry-meta -->

<p>In my <a href="http://blogs.msdn.com/b/oldnewthing/archive/2015/05/04/10611928.aspx"> illustration of how to make a window resizable in only one direction</a>, commenter Josua asks, “<a href="http://blogs.msdn.com/b/oldnewthing/archive/2015/05/04/10611928.aspx#10612099">Why don’t you forward <code>WM_GET­MIN­MAX­INFO</code> and clamp the results</a>?”
 I’m going to assume the question is really “Why don’t you forward <code>WM_GET­MIN­MAX­INFO</code> before clamping the results?” rather than “Why did you bother writing all this code in the first place? Why not simply forward <code>WM_GET­MIN­MAX­INFO</code> and clamp the results?”¹
 The answer is that forwarding <code>WM_GET­MIN­MAX­INFO</code> doesn’t do anything. As noted in the documentation, the incoming <code>MIN­MAX­INFO</code> structure already has the default values on entry. The default handler for the <code>WM_GET­MIN­MAX­INFO</code> message returns without doing anything, since all the default handler does is accept the defaults.
 So sure, you could forward the message, and then clamp the results, but the forwarding doesn’t accomplish anything.</p>
<p> ¹ In case the question really was “Why did you bother writing all this code in the first place…”: Go ahead and delete all the changes aside from the initial version of the <code>On­Get­Min­Max­Info</code> handler. You’ll see the problems called out in the text: The resize arrows appear when the mouse hovers over the corners and the left and right edges. And if you maximize the window onto a secondary monitor, and that monitor’s height is different from the height of the primary monitor, it maximizes to the wrong height. </p>


</body>