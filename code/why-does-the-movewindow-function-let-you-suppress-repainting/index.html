<body style=max-width:80ch;margin:auto>
<h1 class="entry-title" style="margin-bottom:15px;">Why does the MoveWindow function let you suppress repainting?</h1>  <!-- .entry-meta -->

<p>Commenter Phil Quirk asks via the suggestion box <a href="http://blogs.msdn.com/oldnewthing/pages/407234.aspx#544564"> why the <code>MoveWindow</code> function lets you suppress repainting</a>. “Shouldn’t the OS be able to figure out if the window needs to be repainted?”</p>
<p> Indeed the window manager does do a very nice job of figuring it out if you pass <code>bRepaint = TRUE</code>, which is the expected value of the parameter. But if you think you’re smarter than the window manager, then you can pass <code>bRepaint = FALSE</code> and tell the window manager, “Even though you think the window needs to be repainted, don’t repaint it. Trust me on this.” </p>
<p> Why would you try to outwit the window manager? Maybe you have special knowledge about how your application behaves. For example, you might exploit special properties about the source and destination coordinates and decide that certain portions of the window should not be redrawn but rather should be shared between the old and new locations, sort of like the <a href="http://blogs.msdn.com/oldnewthing/archive/2003/09/15/54925.aspx"> advanced tricks you can play with the <code>WM_NCCALCSIZE</code> message</a>. Or you might know that your program is going to invalidate the entire client rectangle soon anyway, so a repaint immediately after the move would just be a waste of time. The <code>bRepaint</code> parameter provides an escape hatch, a throwback to the days when <a href="http://blogs.msdn.com/oldnewthing/archive/2005/10/21/483438.aspx"> the window manager let you do strange things because you might be doing them as part of a clever thing</a>. </p>
<p> Mind you, these are pretty advanced concerns and most of the time you would be best off just passing <code>bRepaint = TRUE</code> and letting the window manager do its job of deciding what needs to be repainted. </p>


</body>