<body style=max-width:80ch;margin:auto>
<h1 class="entry-title" style="margin-bottom:15px;">Why can't you use WM_CTLCOLORSTATIC to change the color of a SS_BLACKRECT?</h1>  <!-- .entry-meta -->

<p>If you specify one of the static control styles which draw a frame or rectangle</p>
<table border="0">
<tr>
<td><code>SS_BLACKRECT</code></td>
<td><code>SS_BLACKFRAME</code></td>
</tr>
<tr>
<td><code>SS_GRAYRECT</code></td>
<td><code>SS_GRAYFRAME</code></td>
</tr>
<tr>
<td><code>SS_WHITERECT</code></td>
<td><code>SS_WHITEFRAME</code></td>
</tr>
</table>
<p> the control will be drawn with the corresponding color (which, as we saw last time, <a href="http://blogs.msdn.com/oldnewthing/archive/2010/04/08/9992117.aspx"> isn’t actually black, gray, or white</a>). If you try to customize the color by handling the <code>WM_CTL­COLOR­STATIC</code> message, you’ll find that it has no effect.
 Well, yeah, because you said you wanted a black rectangle.</p>
<p> If you want some other color, you could set the style to <code>SS_OWNER­DRAW</code> then draw the solid color in your <code>WM_DRAW­ITEM</code> handler. Or you can just use a text static control with no text. In that case, you can respond to <code>WM_CTL­COLOR­STATIC</code> in the usual way. Since you specified no text, all that will be drawn is the background color. </p>


</body>