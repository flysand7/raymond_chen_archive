<body style=max-width:80ch;margin:auto>
<h1 class="entry-title" style="margin-bottom:15px;">Three short questions about LogonUser (with answers!)</h1>  <!-- .entry-meta -->

<p>A customer had a Web service that runs processes as specific users. There may be multiple such processes running at the same time for a single user account. Here are the questions. And just to be nice, I’ve even included the answers. (Note: These are not my answers. I’m just recording them for posterity.) </p>
<p>“Is there a limit to the number of <code>Logon­User</code> sessions that can exist at a time for a particular user?” </p>
<p>It is limited by available memory. </p>
<p>“Once the process exits, what kind of cleanup do we need to  perform? We don’t see a <code>Logoff­User</code> function.” </p>
<p>When you are done, take the token handle that you got from <code>Logon­User</code> and pass it to <code>Close­Handle</code>. </p>
<p>“Is there a recommended way to run multiple processes under the same user account?” </p>
<p>When you get a token from <code>Logon­User</code>, use that one token for multiple processes. </p>


</body>