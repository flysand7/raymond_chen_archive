<body style=max-width:80ch;margin:auto>
<h1 class="entry-title" style="margin-bottom:15px;">How can I include/exclude specific memory blocks in user-mode crash dumps?</h1>  <!-- .entry-meta -->

<p>You can tweak the information included in crash dumps created by Windows Error Reporting. </p>
<p>To request that Windows Error Reporting include a dump of another process if the calling process crashes, use <a href="https://docs.microsoft.com/en-us/windows/desktop/api/werapi/nf-werapi-werregisteradditionalprocess">the <code>Wer­Register­Additional­Process</code> function</a>. This is useful if your program is split up into multiple processes. </p>
<p>You can add additional key/value pairs of data with <a href="https://docs.microsoft.com/en-us/windows/desktop/api/werapi/nf-werapi-werregistercustommetadata">the Wer­Register­Custom­Metadata function</a>. This information can be used to help categorize and filter crash dumps automatically. For example, you might include metadata that says whether the app is running in trial mode. </p>
<p>You can add a block of memory to user-mode crash dumps (heap dumps or larger), with <a href="https://docs.microsoft.com/en-us/windows/desktop/api/werapi/nf-werapi-werregistermemoryblock">the Wer­Register­Memory­Block function</a>. Note that this memory will be captured in the dump, but it’s not the same as metadata because you can’t filter on it. </p>
<p>Conversely, you can exclude a block of memory from user-mode crash dumps with <a href="https://docs.microsoft.com/en-us/windows/desktop/api/werapi/nf-werapi-werregisterexcludedmemoryblock">the Wer­Register­Excluded­Memory­Block function</a>. This is handy if you have large memory blocks containing information that isn’t all that interesting from a debugging standpoint, like video texture buffers or audio output buffers. </p>


</body>