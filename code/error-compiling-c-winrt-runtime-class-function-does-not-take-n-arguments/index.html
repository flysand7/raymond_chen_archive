<body style=max-width:80ch;margin:auto>
<h1 class="entry-title" style="margin-bottom:15px;">Error compiling C++/WinRT runtime class: function does not take N arguments</h1>  <!-- .entry-meta -->

<p>You’re coding up a C++/WinRT runtime class, and the compiler spits out an error message:</p>
<pre style="white-space: pre-wrap;">error C2660: 'MyClass::Thing1': function does not take N arguments
</pre>
<p>If you’re really unlucky, you’ll get</p>
<pre style="white-space: pre-wrap;">error C2064: term does not evaluate to a function taking N arguments
</pre>
<p>where <var>N</var> is probably 0 or 1.</p>
<p>You may have failed to implement all the necessary overloads of a method.</p>
<p>C++/WinRT events are represented by a pair of overloads:</p>
<table border="1" cellpadding="3" cellspacing="0" style="border-collapse: collapse;">
<tbody>
<tr>
<th>Operation</th>
<th>Signature (simplified)</th>
<th>Example</th>
</tr>
<tr>
<td>Register</td>
<td><tt>event_token Event(Delegate const&amp; handler);</tt></td>
<td><tt>token = o.Event(handler);</tt></td>
</tr>
<tr>
<td>Unregister</td>
<td><tt>void Event(event_token const&amp; token);</tt></td>
<td><tt>o.Event(token);</tt></td>
</tr>
</tbody>
</table>
<p>C++/WinRT read/write properties are also represented by a pair of overloads:</p>
<table border="1" cellpadding="3" cellspacing="0" style="border-collapse: collapse;">
<tbody>
<tr>
<th>Operation</th>
<th>Signature (simplified)</th>
<th>Example</th>
</tr>
<tr>
<td>Read</td>
<td><tt>T Property();</tt></td>
<td><tt>auto value = o.Property();</tt></td>
</tr>
<tr>
<td>Write</td>
<td><tt>void Property(T const&amp; value);</tt></td>
<td><tt>o.Property(value);</tt></td>
</tr>
</tbody>
</table>
<p>And naturally, if you have overloaded methods, then they are represented by, um, overloaded methods.</p>
<table border="1" cellpadding="3" cellspacing="0" style="border-collapse: collapse;">
<tbody>
<tr>
<th>Signature (simplified)</th>
<th>Example</th>
</tr>
<tr>
<td><tt>void Method();</tt></td>
<td><tt>o.Method();</tt></td>
</tr>
<tr>
<td><tt>void Method(int32_t value);</tt></td>
<td><tt>o.Method(2);</tt></td>
</tr>
<tr>
<td><tt>void Method(int32_t value, hstring name);</tt></td>
<td><tt>o.Method(2, L"Bob");</tt></td>
</tr>
</tbody>
</table>
<p>If you fail to implement all of the required methods, you will get an error when the C++/WinRT autogenerated code tries to call one of the missing overloads. When there is a mismatch between the call site and the function prototype, the compiler assumes that the prototype is correct and the call site is wrong. Therefore, the error won’t be “You forgot to declare the 1-parameter overload of this method.” It’ll be “The method I found doesn’t take 1 parameter.”</p>
<p> </p>


</body>