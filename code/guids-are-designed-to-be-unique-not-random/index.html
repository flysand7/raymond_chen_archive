<body style=max-width:80ch;margin:auto>
<h1 class="entry-title" style="margin-bottom:15px;">GUIDs are designed to be unique, not random</h1>  <!-- .entry-meta -->

<p>A customer liaison asked, “My customer is looking for information on the GUID generation algorithm. They need to select <i>N</i> items randomly from a pool of <i>M</i> (jury selection), and their proposed algorithm is to assign each item a GUID, then sort the items by GUID and take the first <i>N</i>.” (I’ve seen similar questions regarding using GUIDs for things like passwords or other situations where the programmer is looking for a way to generate a value that cannot be predicted.)
 The GUID generation algorithm was designed for uniqueness. It was not designed for randomness or for unpredictability. Indeed, if you look at <a href="http://blogs.msdn.com/b/oldnewthing/archive/2008/06/27/8659071.aspx"> an earlier discussion</a>, you can see that so-called Algorithm 1 is <i>non-random</i> and <i>totally predictable</i>. If you use an Algorithm 1 GUID generator to assign GUIDs to candidates, you’ll find that the GUIDs are assigned in numerically ascending order (because the timestamp increases). The customer’s proposed algorithm would most likely end up choosing for jury duty the first <i>N</i> people entered into the system after a 32-bit timer rollover. Definitely not random.
 Similarly, the person who wanted to use a GUID for password generation would find that the passwords are <i>totally predictable</i> if you know what time the GUID was generated and which computer generated the GUID (which you can get by looking at the final six bytes from some other password-GUID). Totally-predictable passwords are probably not a good idea.
 Even the Version 4 GUID algorithm (which basically says “set the version to 4 and fill everything else with random or pseudo-random numbers”) is not guaranteed to be unpredictable, because the algorithm does not specify the quality of the random number generator. <a href="http://en.wikipedia.org/wiki/Globally_unique_identifier"> The Wikipedia article for GUID contains primary research which suggests</a> that future and previous GUIDs can be predicted based on knowledge of the random number generator state, since the generator is not cryptographically strong.
 If you want a random number generator, then <i>use a random number generator</i>.</p>
<p> <b>Bonus reading</b>: Eric Lippert’s GUID Guide, <a href="http://blogs.msdn.com/b/ericlippert/archive/2012/04/24/guid-guide-part-one.aspx"> part 1</a>, <a href="http://blogs.msdn.com/b/ericlippert/archive/2012/04/30/guid-guide-part-two.aspx"> part 2</a>, and <a href="http://blogs.msdn.com/b/ericlippert/archive/2012/05/07/guid-guide-part-three.aspx"> part 3</a>. </p>


</body>