<body style=max-width:80ch;margin:auto>
<h1 class="entry-title" style="margin-bottom:15px;">How do the common controls convert between ANSI and Unicode?</h1>  <!-- .entry-meta -->

<p>Commenter Chris Becke asks <a href="http://blogs.msdn.com/oldnewthing/pages/407234.aspx#513761"> how the common controls convert ANSI parameters to Unicode</a>, since the common controls are Unicode internally.
 Everything goes through <code>CP_ACP</code>, pretty much by definition. The ANSI code page is <code>CP_ACP</code>. That’s what ACP stands for, after all.
 Now, there are some function families that do not use ANSI. The console subsystem, for example, prefers the OEM character set for its 8-bit strings, and file system functions can go either way, based on the setting controlled by the <code>SetFileAPIsToANSI</code> and <code>SetFileAPIsToOEM</code> functions.</p>
<p> In the scenario Chris describes, I suspect that the problem is not the ANSI-to-Unicode conversion but rather that the font selected into the listview didn’t support the necessary characters. </p>


</body>