<body style=max-width:80ch;margin:auto>
<h1 class="entry-title" style="margin-bottom:15px;">Why does GetDiskFreeSpaceEx return the wrong amount of free space?</h1>  <!-- .entry-meta -->

<p>One customer discovered that viewing the properties of a drive from Explorer shows the amount of disk free space significantly lower than the actual amount of free disk space as resported by the disk management snap-in. The command prompt agrees with Explorer and shows the incorrect result. What’s going on?
 Not surprisingly, both Explorer and the command prompt use the <code>GetDiskFreeSpaceEx</code> function to get the amount of free disk space. (It’s not surprising because the only two convenient options are <code>GetDiskFreeSpace</code> and <code>GetDiskFreeSpaceEx</code>, and the former exists only for compatibility with older programs who don’t support drives bigger than 2GB.) If you go to the documentation for the <code>GetDiskFreeSpaceEx</code> function, you’ll see that the amount of free disk space reported is not the actual amount of physical free disk space but rather the amount of available physical free disk space as constrained by the user’s quota.</p>
<p> Just saying the word “quotas” to the customer was enough to satisfy them. I guess that was enough of a nudge that they could figure out the rest for themselves. </p>


</body>