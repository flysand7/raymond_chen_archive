<body style=max-width:80ch;margin:auto>
<h1 class="entry-title" style="margin-bottom:15px;">Some other places atoms (and the magical 0xC000) arise</h1>  <!-- .entry-meta -->

<p>The moment the Windows developers got a system for converting strings into numbers, they could use it anywhere they need to, well, convert a string into a number. Somtimes these integers are officially declared as atoms, but most of the time they are just integers that happen to be atoms under the covers.
 I’ll start with registered window messages, created by the <code>RegisterWindowMessage</code> function. These are not officially atoms; they are just integers that happen to lie in the range <code>0xC000</code> to <code>0xFFFF</code>, just like atoms. But yeah, internally, they’re atoms. Of course, you shouldn’t rely on it since it’s not contractual. Think of it as a fantastic coincidence.
 Registered clipboard formats created by the <code>RegisterClipboardFormat</code> message are also not officially atoms; they’re just <code>UINT</code>s. The numeric range for registered clipboard formats isn’t even specified; that they hang out in the <code>0xC000</code> range is just an implementation detail. Someday, registered clipboard formats may have values like <code>0x1234</code>, who knows.
 Window properties are also stored in the form of atoms, but unlike the other examples above, the atomic nature of window properties is contractual. You can set a property either by passing the property name <code>SetProp(hwnd, TEXT("PropertyName"), hData)</code> or by passing the property atom <code>SetProp(hwnd, MAKEINTATOM(atm), hData)</code>, where <code>atm</code> was obtained from an earlier call to <code>GlobalAddAtom</code>. There is additional weirdness with the way these atoms are tracked, which I’ll defer to Friday’s article, though it is hinted at in the documentation for <code>SetProp</code> which cautions that you need to remove all the properties from a window before it is destroyed.</p>
<p> Window classes also have atoms. The return value of the <code>RegisterClass</code> function is an <code>ATOM</code>, and you can also retrieve the atom later by calling <code>GetClassWord(GCW_ATOM)</code>. We’ll see more about that atom next time. </p>


</body>