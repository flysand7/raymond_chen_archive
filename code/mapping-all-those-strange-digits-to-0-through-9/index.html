<body style=max-width:80ch;margin:auto>
<h1 class="entry-title" style="margin-bottom:15px;">Mapping all those "strange" digits to "0" through "9"</h1>  <!-- .entry-meta -->

<p><a href="http://weblogs.asp.net/oldnewthing/archive/2004/03/09/86555.aspx">In an earlier article, I discussed how the <a href="http://msdn.microsoft.com/library/en-us/cpref/html/frlrfSystemCharClassIsDigitTopic.asp">Char.IsDigit()</a> method and its Win32 counterpart, <a href="http://msdn.microsoft.com/library/en-us/winui/winui/windowsuserinterface/resources/strings/stringreference/stringfunctions/getstringtypeex.asp">GetStringTypeEx</a> report things to be digits that aren’t just “0” through “9”.
If you really care just about “0” through “9”, then you can test for them explicitly. For example, as a regular expression, use [0-9] instead of \d. Alternatively, for a regular expression, you can enable ECMA mode via <a href="http://msdn.microsoft.com/library/en-us/cpgenref/html/gngrfEcmaScriptVsCanonicalMatchingBehavior.asp">RegexOptions.ECMAScript</a>. Note that this controls much more than just the interpretation of the \d character class, so make sure to read carefully to ensure that you really want all the ECMA behavior.
It has been pointed out to me that there is a way to convert all those “strange” digits to the “0” through “9” range, namely by calling the <a href="http://msdn.microsoft.com/library/en-us/winui/winui/windowsuserinterface/resources/strings/stringreference/stringfunctions/foldstring.asp">FoldString</a> function with the MAP_FOLDDIGITS flag.
(I put the word “strange” in quotation marks because of course they aren’t strange at all. Just different.)
This converts digits but doesn’t help with decimal points, so you still have to deal with correctly interpreting “1,500” as either “one thousand five hundred” (as it would be in the United States) or “one and a half” (as it would be in most of Europe). For that, you need to call <a href="http://msdn.microsoft.com/library/en-us/intl/nls_34rz.asp">GetLocaleInfo</a> to get the LOCAL_SDECIMAL and LOCAL_STHOUSAND strings.
</a></p>


</body>