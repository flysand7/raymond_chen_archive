<body style=max-width:80ch;margin:auto>
<h1 class="entry-title" style="margin-bottom:15px;">How do I suppress the default animation that occurs when I hide or show a window?</h1>  <!-- .entry-meta -->

<p>
A customer wanted to know how they can disable
the default fade-in/fade-out
animation that occurs when a window is hidden or shown.
“I don’t want to use
<code>WS_EX_TOOL­WINDOW</code> because that
causes my window to disappear from the taskbar.
I tried
<code>Dwm­Enable­Composition</code> but that
affects the entire desktop and is too jarring.
We want to suppress the effect because our program
replaces one window with another, and we want the operation
to be invisible to the user.”
</p>
<p>
Whoa, heading straight for
<code>Dwm­Enable­Composition</code>?
That’s using a global solution to a local problem.
</p>
<p>
To disable the animations on a specific window,
use something like this:
</p>
<pre>
HRESULT DisableDwmAnimations(HWND hwnd)
{
    BOOL fDisable = TRUE;
    return DwmSetWindowAttribute(hwnd,
                DWMWA_TRANSITIONS_FORCEDISABLED,
                &amp;fDisable,
                sizeof(fDisable));
}
</pre>
<p>
Re-enabling the animations is left as an exercise for the reader.</p>


</body>