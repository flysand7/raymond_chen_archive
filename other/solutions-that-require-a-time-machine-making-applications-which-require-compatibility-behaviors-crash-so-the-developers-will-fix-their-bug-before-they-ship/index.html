<body style=max-width:80ch;margin:auto>
<h1 class="entry-title" style="margin-bottom:15px;">Solutions that require a time machine: Making applications which require compatibility behaviors crash so the developers will fix their bug before they ship</h1>  <!-- .entry-meta -->

<p>A while ago, I mentioned that <a href="http://blogs.msdn.com/oldnewthing/archive/2006/03/27/561924.aspx"> there are many applications that rely on <code>WM_PAINT</code> messages being delivered even if there is nothing to paint</a> because they put business logic inside their <code>WM_PAINT</code> handler. As a result, Windows sends them dummy <code>WM_PAINT</code> messages.
 <a href="http://blogs.msdn.com/oldnewthing/archive/2006/03/27/561924.aspx#562184"> Jerry Pisk opines</a>,</p>
<blockquote class="q"><p> Thanks to the Windows team going out of their way not to break poorly written applications developers once again have no incentive to clean up their act and actually write working applications. If an application requires a dummy WM_PAINT not to crash it should be made to crash as soon as possible so the developers go in and fix it before releasing their “code”.  </p></blockquote>
<p> In other words, Jerry recommends that Microsoft use the time machine that Microsoft Research has been secretly perfecting for the past few years. (They will sometimes <a href="http://www.wired.com/gadgetlab/2010/11/time-travel/"> take it out for a spin and fail to cover their tracks</a>.)
 In 1993, Company X writes a program that relies on <code>WM_PAINT</code> messages arriving in a particular order relative to other messages. (And just to make things more interesting, in 1994, Company X goes out of business, or they discontinue the program in question, or the only person who understands the code leaves the company or dies in a plane crash.)
 In 1995, changes to Windows alter the order of messages, and in particular, <code>WM_PAINT</code> messages are no longer sent under certain circumstances. I suspect that the reason for this is the introduction of the taskbar. Before the taskbar,  <a href="http://blogs.msdn.com/oldnewthing/archive/2004/10/28/249044.aspx"> minimized windows appeared as icons on your desktop</a> and therefore received <code>WM_PAINT</code> messages while minimized. But now that applications minimize to the taskbar, minimized windows are sent off screen and never actually paint. The taskbar button does the job of representing the program on the screen.
 Okay, now let’s put Jerry in charge of solving this compatibility problem. He recommends that instead of sending a dummy <code>WM_PAINT</code> message to these programs to keep them happy, these programs should instead be made to crash as soon as possible, so that the developers can go in and fix the problem before they release the program.
 In other words, he wants to take the Microsoft Research time machine back to 1993 with a beta copy of Windows 95 and give it to the programmers at Company X and tell them, “Your program crashes on this future version of Windows that doesn’t exist yet in your time. Fix the problem before you release your code. (Oh, and by the way, <a href="http://www.baseball-reference.com/postseason/1993_WS.shtml"> the Blue Jays are going to repeat</a>.)”</p>
<p> Or maybe I misunderstood his recommendation. </p>


</body>