<body style=max-width:80ch;margin:auto>
<h1 class="entry-title" style="margin-bottom:15px;">How can I recover the dialog resource ID from a dialog window handle?</h1>  <!-- .entry-meta -->

<p>Occasionally, I see someone ask a question like the following.</p>
<blockquote class="m"><p> I have the handle to a dialog window. How can I get the original dialog resource ID that the dialog was created from? </p></blockquote>
<p> As we saw in our <a href="http://blogs.msdn.com/oldnewthing/archive/2004/06/18/159248.aspx"> in-depth discussion of how dialogs are created from dialog templates</a>, the dialog template itself is not saved anywhere. The purpose of a template is to act as the… well… “template” for creating a dialog box. Once the dialog box has been created, there is no need for the template any more. Consequently, there is no reason why the system should remember it. </p>
<p> Besides, if <a href="http://blogs.msdn.com/oldnewthing/archive/2005/04/29/412577.aspx"> the dialog were created from a runtime-generated template</a>, saving the original parameters would leave pointers to freed memory. Furthermore, the code that created the dialog box almost certainly modified the dialog box during its <a href="http://msdn.microsoft.com/library/en-us/winui/winui/windowsuserinterface/windowing/dialogboxes/dialogboxreference/dialogboxmessages/wm_initdialog.asp"> <code>WM_INITDIALOG</code> message</a> processing (filling list boxes with data, maybe enabling or disabling some buttons), so the dialog box you see on screen doesn’t correspond to a template anywhere. </p>
<p> It’s like asking, “Given a plate of food, how do I recover the original cookbook and page number for the recipe?” By doing a chemical analysis of the food, you might be able to recover “a” recipe, but there is nothing in the food itself that says, “I came from The Joy of Cooking, page 253.” </p>


</body>