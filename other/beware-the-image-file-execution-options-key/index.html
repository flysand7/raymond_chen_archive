<body style=max-width:80ch;margin:auto>
<h1 class="entry-title" style="margin-bottom:15px;">Beware the Image File Execution Options key</h1>  <!-- .entry-meta -->

<p>Beware <a href="http://blogs.msdn.com/junfeng/archive/2004/04/28/121871.aspx"> the Image File Execution Options key</a> (<a href="http://blogs.msdn.com/greggm/archive/2005/02/21/377663.aspx">more</a>). Its power can be used for evil as well as for good.</p>
<p> Its intended use is to force a program to run under a debugger regardless of how it is launched (and secondarily to alter how the system treats the program). It’s handy if you need to debug a program “in the wild” rather than under the controlled environment of your favorite IDE. For example, you can use it if you want to debug how a program runs when it is launched by some other program you can’t debug. </p>
<p> Two things people often forget: </p>
<ul>
<li>If you err in specifying the debugger, the program won’t launch     at all.     For example, if you get the path to the debugger wrong     or if you subsequently uninstall the debugger,     you’ll get ERROR_FILE_NOT_FOUND when you try to run the target     program since the system can’t find the debugger. </li>
<li>Remember to delete the entry for your program when you no     longer need it.     Otherwise you’ll wonder why the debugger keeps launching     for no apparent reason. </li>
</ul>
<p> Evil can be done with the Image File Execution Options key. Malware can install themselves as the “debugger” for a frequently-run program (such as Explorer) and thereby inject themselves into the execution sequence. </p>
<p> Note that the ability to use the Image File Execution Options key for evil purposes is not a security hole. To modify the key in the first place requires administrator permissions. Consequently, anybody who can exploit this feature already owns your machine. </p>


</body>