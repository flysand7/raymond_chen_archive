<body style=max-width:80ch;margin:auto>
<h1 class="entry-title" style="margin-bottom:15px;">What happens if I use a squash instead of a true merge when performing one of the git tricks?</h1>  <!-- .entry-meta -->

<p>A customer wanted to know which of the git tricks I’ve shared still work if you use a squash instead of a true merge. For example, in the case of <a href="/other/how-to-split-out-pieces-of-a-file-while-preserving-git-line-history-the-easy-way-with-misleading-commits"> splitting a file in two while preserving line history</a>, can this be done with squashing?</p>
<p>Many of the git tricks exploit the way git walks the commit graph, and squashing creates a different graph from merging. Specifically, squashing <i>throws away all our hard work</i> in building a specific commit graph. Instead, squashing takes all the changes and squashes them together into a single commit. It’s as if you made all the changes at one sitting and committed them as a unit.</p>
<p>On the other hand, squashing works just fine with the tricks that involve a single non-merge commit. It just replaces one non-merge commit with an identical one.</p>
<table border="1" cellpadding="3" cellspacing="0" class="cp3" style="border-collapse: collapse;">
<tbody>
<tr>
<th>Trick</th>
<th>Squashable?</th>
<th>Notes</th>
</tr>
<tr>
<td><a href="https://devblogs.microsoft.com/oldnewthing/20180323-01/?p=98325"> Merging instead of cherry-picking</a></td>
<td>No</td>
<td>Merging is the point</td>
</tr>
<tr>
<td><a href="https://devblogs.microsoft.com/oldnewthing/20190506-00/?p=102478"> Building a commit manually out of a tree</a></td>
<td>Yes</td>
<td>Creates a single non-merge commit</td>
</tr>
<tr>
<td><a href="https://devblogs.microsoft.com/oldnewthing/20190507-00/?p=102480"> Building a merge commit manually out of a tree</a></td>
<td>No</td>
<td>Result is a merge commit</td>
</tr>
<tr>
<td><a href="https://devblogs.microsoft.com/oldnewthing/20190508-00/?p=102482"> Building a throwaway commit in order to perform a combined cherry-pick-squash</a></td>
<td>Yes</td>
<td>Creates a single non-merge commit</td>
</tr>
<tr>
<td><a href="https://devblogs.microsoft.com/oldnewthing/20190509-00/?p=102485"> Changing a squash to a merge</a></td>
<td>No</td>
<td>Result is a merge commit (that’s the whole point)</td>
</tr>
<tr>
<td><a href="https://devblogs.microsoft.com/oldnewthing/20190510-00/?p=102488"> Squashing without git rebase</a></td>
<td>Yes</td>
<td>Creates a single non-merge commit</td>
</tr>
<tr>
<td><a href="https://devblogs.microsoft.com/oldnewthing/20190513-00/?p=102490"> Resetting by reusing an earlier tree</a></td>
<td>No</td>
<td>Result is a commit that needs to be merged</td>
</tr>
<tr>
<td><a href="https://devblogs.microsoft.com/oldnewthing/20190514-00/?p=102493"> Combining two files into one while preserving line history</a></td>
<td>No</td>
<td>Creates merge commits</td>
</tr>
<tr>
<td><a href="https://devblogs.microsoft.com/oldnewthing/20190515-00/?p=102495"> Combining two files into one while preserving line history, via manual octopus merging</a></td>
<td>No</td>
<td>Creates merge commits</td>
</tr>
<tr>
<td><a href="https://devblogs.microsoft.com/oldnewthing/20190916-00/?p=102892"> How do I split a file into two while preserving git line history?</a></td>
<td>No</td>
<td>Creates merge commits</td>
</tr>
<tr>
<td><a href="https://devblogs.microsoft.com/oldnewthing/20190917-00/?p=102894"> How to split out pieces of a file while preserving git line history v1</a></td>
<td>No</td>
<td>Creates merge commits</td>
</tr>
<tr>
<td><a href="https://devblogs.microsoft.com/oldnewthing/20190918-00/?p=102901"> How to split out pieces of a file while preserving git line history v2</a></td>
<td>No</td>
<td>Creates merge commits</td>
</tr>
<tr>
<td><a href="https://devblogs.microsoft.com/oldnewthing/20190919-00/?p=102904"> How to duplicate a file while preserving git line history</a></td>
<td>No</td>
<td>Creates merge commits</td>
</tr>
<tr>
<td><a href="https://devblogs.microsoft.com/oldnewthing/20200921-00/?p=104245"> Converting a rebase to a merge</a></td>
<td>No</td>
<td>Creates merge commits</td>
</tr>
<tr>
<td><a href="https://devblogs.microsoft.com/oldnewthing/20200928-00/?p=104302"> How can I bulk-revert an entire repo to an earlier commit?</a></td>
<td>It depends</td>
<td>Method 1 uses a single non-merge commit, but method 2 uses a merge</td>
</tr>
<tr>
<td><a href="https://devblogs.microsoft.com/oldnewthing/20201005-00/?p=104334"> How can I bulk-revert a subdirectory of a repo to an earlier commit?</a></td>
<td>Yes</td>
<td>Creates a single non-merge commit</td>
</tr>
</tbody>
</table>


</body>