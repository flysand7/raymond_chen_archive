<body style=max-width:80ch;margin:auto>
<h1 class="entry-title" style="margin-bottom:15px;">In Windows, the directory is the application bundle</h1>  <!-- .entry-meta -->

<p>Aaargh! wonders why <a href="http://blogs.msdn.com/oldnewthing/archive/2006/03/21/556505.aspx#557664"> Windows doesn’t just steal the concept of bundles from Apple</a> and package up each application with all its libraries and everything else it needs into a single directory.
 This is such a great idea, it’s been around since the early 1990’s. It’s just that Windows didn’t give it a cute named like <i>bundle</i>. It just gave it the boring name <i>directory</i>. In other words, it’s a victim of bad marketing. Maybe we should have given it a cute name like… <a href="http://www.lardlad.com/assets/quotes/season2/7F08.shtml"> <i>elfgrass</i></a>.
 The first directory searched by the <code>LoadLibrary</code> function is the directory containing the application. If you put all your supporting libraries in the same directory as your EXE, and if you access non-library data via paths relative to your application directory, then then you have successfully packaged up your application with all its libraries and everything else it needs into a single directory. Congratulations, you pre-invented the bundle.
 Indeed, Microsoft’s guidance for over a decade has been to discourage copying files into the System32 directory.
 If this facility has been around for nearly twenty years, why do people still copy files into the System32 directory?
 Probably inertia. “We’ve always installed that way, and we’re not changing it because we don’t know what would stop working.”
 There may be some people <a href="http://blogs.msdn.com/oldnewthing/archive/2004/06/15/156022.aspx#156243"> concerned about disk space</a>. “We have a bunch of applications which share some common libraries, and by putting the common libraries in a shared location (instead of in the application directory), we avoid wasting the user’s disk space.” Which raises the troublesome question: Is disk space still an issue nowadays?
 Some people would say that no, disk space is no longer an issue. Hard drives are hundreds of gigabytes in size. Increasing the size of each application by a few dozen megabytes is just noise.
 Other people would say that yes, disk space is still an issue. (Note how many people got excited when Snow Leopard took up less disk space.) Solid-state hard drives are still limited in size, and even for people with large hard drives, you see them freaking out about the disk space used by things like Windows Update, volume snapshot services, and System Restore. (Nevermind that at least for volume snapshots and System Restore, the disk space is automatically released when disk space starts to run low. It’s like getting upset that the disk cache uses so much of your memory even though the computer is not under any memory pressure.)</p>
<p> <b>Bonus reading</b>: <a href="http://blogs.msdn.com/e7/archive/2008/11/19/disk-space.aspx"> Disk space and Windows 7</a>. </p>


</body>