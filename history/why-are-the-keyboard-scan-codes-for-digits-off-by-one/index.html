<body style=max-width:80ch;margin:auto>
<h1 class="entry-title" style="margin-bottom:15px;">Why are the keyboard scan codes for digits off by one?</h1>  <!-- .entry-meta -->

<p>
In
<a href="http://blogs.msdn.com/b/michkap/archive/2010/10/08/10073124.aspx">
<i>Off by one what, exactly?</i></a>,
my colleague
<a href="http://blogs.msdn.com/b/michkap/">Michael Kaplan</a>
wrote
</p>
<blockquote class="q"><p>
And this decision long ago that caused the scan codes to not line up
for these digits when they could have…
</p></blockquote>
<p>
The word that struck me there was “decision”.
</p>
<p>
Because it wasn’t a “decision” to make the scan codes almost-but-not-quite
line up with digits.
It was just a coincidence.
</p>
<p>
If you look at the scan code table from Michael’s article
</p>
<p>
<img height="228" src="https://web.archive.org/web/20101015045801im_/http://www.trigeminal.com/images/scancodes.png" width="700"/>
</p>
<p>
you can see stretches of consecutive scan codes,
broken up by weird places where the consecutive pattern is
violated.
The weirdness makes more sense when you look at the original
IBM PC XT keyboard:
</p>
<table border="1" cellpadding="3" style="border-collapse: collapse;border: solid .75pt black;text-align: center">
<tr>
<td colspan="4" style="width: 4ex"><font size="-1">01</font><br/>Esc</td>
<td colspan="4" style="width: 4ex"><font size="-1">02</font><br/>1</td>
<td colspan="4" style="width: 4ex"><font size="-1">03</font><br/>2</td>
<td colspan="4" style="width: 4ex"><font size="-1">04</font><br/>3</td>
<td colspan="4" style="width: 4ex"><font size="-1">05</font><br/>4</td>
<td colspan="4" style="width: 4ex"><font size="-1">06</font><br/>5</td>
<td colspan="4" style="width: 4ex"><font size="-1">07</font><br/>6</td>
<td colspan="4" style="width: 4ex"><font size="-1">08</font><br/>7</td>
<td colspan="4" style="width: 4ex"><font size="-1">09</font><br/>8</td>
<td colspan="4" style="width: 4ex"><font size="-1">0A</font><br/>9</td>
<td colspan="4" style="width: 4ex"><font size="-1">0B</font><br/>0</td>
<td colspan="4" style="width: 4ex"><font size="-1">0C</font><br/>−</td>
<td colspan="4" style="width: 4ex"><font size="-1">0D</font><br/>=</td>
<td colspan="6" style="width: 6ex"><font size="-1">0E</font><br/>←</td>
</tr>
<tr>
<td colspan="5" style="width: 5ex"><font size="-1">0F</font><br/>⇥</td>
<td colspan="4" style="width: 4ex"><font size="-1">10</font><br/>Q</td>
<td colspan="4" style="width: 4ex"><font size="-1">11</font><br/>W</td>
<td colspan="4" style="width: 4ex"><font size="-1">12</font><br/>E</td>
<td colspan="4" style="width: 4ex"><font size="-1">13</font><br/>R</td>
<td colspan="4" style="width: 4ex"><font size="-1">14</font><br/>T</td>
<td colspan="4" style="width: 4ex"><font size="-1">15</font><br/>Y</td>
<td colspan="4" style="width: 4ex"><font size="-1">16</font><br/>U</td>
<td colspan="4" style="width: 4ex"><font size="-1">17</font><br/>I</td>
<td colspan="4" style="width: 4ex"><font size="-1">18</font><br/>O</td>
<td colspan="4" style="width: 4ex"><font size="-1">19</font><br/>P</td>
<td colspan="4" style="width: 4ex"><font size="-1">1A</font><br/>[</td>
<td colspan="5" style="width: 5ex"><font size="-1">1B</font><br/>]</td>
<td colspan="4" rowspan="2" style="width: 4ex"><font size="-1">1C</font><br/>↲</td>
</tr>
<tr>
<td colspan="6" style="width: 6ex"><font size="-1">1D</font><br/>Ctrl</td>
<td colspan="4" style="width: 4ex"><font size="-1">1E</font><br/>A</td>
<td colspan="4" style="width: 4ex"><font size="-1">1F</font><br/>S</td>
<td colspan="4" style="width: 4ex"><font size="-1">20</font><br/>D</td>
<td colspan="4" style="width: 4ex"><font size="-1">21</font><br/>F</td>
<td colspan="4" style="width: 4ex"><font size="-1">22</font><br/>G</td>
<td colspan="4" style="width: 4ex"><font size="-1">23</font><br/>H</td>
<td colspan="4" style="width: 4ex"><font size="-1">24</font><br/>J</td>
<td colspan="4" style="width: 4ex"><font size="-1">25</font><br/>K</td>
<td colspan="4" style="width: 4ex"><font size="-1">26</font><br/>L</td>
<td colspan="4" style="width: 4ex"><font size="-1">27</font><br/>;</td>
<td colspan="4" style="width: 4ex"><font size="-1">28</font><br/>‘</td>
<td colspan="4" style="width: 4ex"><font size="-1">29</font><br/>`</td>
</tr>
<tr>
<td colspan="4" style="width: 4ex"><font size="-1">2A</font><br/>⇧</td>
<td colspan="4" style="width: 4ex"><font size="-1">2B</font><br/>\</td>
<td colspan="4" style="width: 4ex"><font size="-1">2C</font><br/>Z</td>
<td colspan="4" style="width: 4ex"><font size="-1">2D</font><br/>X</td>
<td colspan="4" style="width: 4ex"><font size="-1">2E</font><br/>C</td>
<td colspan="4" style="width: 4ex"><font size="-1">2F</font><br/>V</td>
<td colspan="4" style="width: 4ex"><font size="-1">30</font><br/>B</td>
<td colspan="4" style="width: 4ex"><font size="-1">31</font><br/>N</td>
<td colspan="4" style="width: 4ex"><font size="-1">32</font><br/>M</td>
<td colspan="4" style="width: 4ex"><font size="-1">33</font><br/>,</td>
<td colspan="4" style="width: 4ex"><font size="-1">34</font><br/>.</td>
<td colspan="4" style="width: 4ex"><font size="-1">35</font><br/>/</td>
<td colspan="6" style="width: 6ex"><font size="-1">36</font><br/>⇧</td>
<td colspan="4" style="width: 4ex"><font size="-1">37</font><br/>*</td>
</tr>
<tr>
<td colspan="5" style="width: 5ex"><font size="-1">38</font><br/>Alt</td>
<td colspan="40" style="width: 40ex"><font size="-1">39</font><br/>Space</td>
<td colspan="9" style="width: 9ex"><font size="-1">3A</font><br/>Caps</td>
</tr>
</table>
<p>
With this presentation, it becomes clearer how scan codes were assigned:
They simply started at 01 and continued through the keyboard
in English reading order.
(Scan code 00 is an error code indicating keyboard buffer overflow.)
The reason for the keyboard scan code being off-by-one from the
digits is merely due to the fact that there was one key to the
left of the digits.
If there were two keys to the left of the digits, they would have
been off by two.
</p>
<p>
Of course, if the original keyboard designers had
<a href="http://blogs.msdn.com/b/oldnewthing/archive/2010/10/04/10070943.aspx">
started counting from the lower left corner,
like all right-thinking mathematically-inclined people</a>,
then this sort-of-coincidence would never have happened.
The scan codes for the digits would have been
2E through 37, and nobody would have thought anything of it.
</p>
<p>
It’s a testament to the human brain’s
<a href="http://blogs.msdn.com/b/oldnewthing/archive/2003/08/25/54700.aspx">
desire to find patterns and determine a reason for them</a>
that what is really just a coincidence
gets interpreted as some sort of conspiracy.</p>


</body>