<body style=max-width:80ch;margin:auto>
<h1 class="entry-title" style="margin-bottom:15px;">Why is the !locks command called !locks even though it debugs only critical sections?</h1>  <!-- .entry-meta -->

<p>Commenter DWalker07 notes that the <code>!locks</code> command is called <code>!locks</code> <a href="https://blogs.msdn.microsoft.com/oldnewthing/20170301-00/?p=95615#comment-1286845">even though it doesn’t actually debug all types of locks</a>, only critical sections. Why the bad name? </p>
<p>Because at the time it was written, critical sections were the only types of user-mode locks. </p>
<p>In the original incarnation of Win32, there were semaphores and mutexes and other kernel-mode synchronization objects, but the only user-mode synchronization objects were critical sections. Seeing as they were the only type of synchronization objects available in user mode, they were informally referred to as “locks” because when you have only one kind of thing, you don’t really worry too much about being specific. </p>
<p>If there’s only kind of wristwatch, then you don’t really bother being specific about the fact that it’s a spring-wound analog-readout time-only watch. You just call it a watch. Of course, later, when battery-powered digital-readout smart watches become commonplace, your old documents that talk about “watches” may seem confusing. “Why do these instructions for troubleshooting watches not work for my battery-powered digital-readout smart watch?” </p>
<p>Indeed, for a very long time, critical sections were the only user-mode synchronization objects that came with Win32. It wasn’t until Windows Vista that a whole bunch of new user-mode synchronization objects became available, things like slim reader-writer locks, condition variables, and one-time initialization. Until then, the word “lock”  was sufficient. </p>


</body>