<body style=max-width:80ch;margin:auto>
<h1 class="entry-title" style="margin-bottom:15px;">What was the registry like in 16-bit Windows?</h1>  <!-- .entry-meta -->

<p>Commenter Niels wonders <a href="http://blogs.msdn.com/b/oldnewthing/archive/2008/01/17/7137438.aspx"> when and how the registry was introduced to 16-bit Windows</a> and how much of it carried over to Windows 95.
 The 16-bit registry was <a href="http://blogs.msdn.com/b/oldnewthing/archive/2008/01/17/7137438.aspx"> extremely simple</a>. There were just keys, no values. The only <a href="http://blogs.msdn.com/b/oldnewthing/archive/2003/08/08/54618.aspx"> hive</a> was <code>HKEY_CLASSES_ROOT</code>. All it was used for was COM objects and file associations. The registry was stored in the <code>REG.DAT</code> file, and its maximum size was 64<a href="http://blogs.msdn.com/b/oldnewthing/archive/2009/06/11/9725386.aspx">KB</a>.
 It is my recollection that the registry was introduced in Windows 3.1, but Niels says it’s not in a plain vanilla install, so I guess my memory is faulty.
 None of the 16-bit registry code was carried over to Windows 95. Windows 95 extended the registry into kernel mode, added support for values and non-string data types, increased the maximum registry size (though if some people are to be believed, not by enough), and added a bunch of other hives, like added the <code>HKEY_CURRENT_USER</code>, <code>HKEY_LOCAL_MACHINE</code>, and the <code>HKEY_DYN_DATA</code>, The old 16-bit registry code was woefully inadequate for all these new requirements (especially the kernel mode part), so it was all thrown out and a brand new registry written.</p>
<p> In the early days of the Windows 95 registry, the in-memory <a href="http://blogs.msdn.com/b/oldnewthing/archive/2007/06/04/3069949.aspx"> signature value</a> to identify the data structures which represent an open registry key were four bytes which corresponded to the ASCII values for the initials of the two programmers who wrote it. </p>


</body>