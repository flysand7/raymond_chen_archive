<body style=max-width:80ch;margin:auto>
<h1 class="entry-title" style="margin-bottom:15px;">Why are device-independent bitmaps upside down?</h1>  <!-- .entry-meta -->

<p>Something that catches out everybody the first time they encounter it is that Windows device-independent bitmaps are upside down, in the sense that the first row of pixels corresponds to the <i>bottom</i> scan line of the image, and subsequent rows of pixels continue <i>upward</i>, with the final row of pixels corresponding to the topmost scan line.</p>
<p>Rather than calling these bitmaps <i>upside down bitmaps</i>, the less judgmental term is to call them <i>bottom-up bitmaps</i>.</p>
<p>Okay, so why are device-independent bitmaps bottom-up?</p>
<p>For compatibility with OS/2.</p>
<p>In OS/2 Presentation Manager, the origin of the graphics coordinate space is at the bottom left corner of the screen, with the <var>y</var>-coordinate increasing as you go toward the top of the screen. This is the mathematically correct coordinate system, which removes a lot of confusion when you start doing mathematics with your graphics.</p>
<p>It is my understanding that computer graphics involves a lot of mathematics.</p>
<p>If you align the graphics coordinate space with mathematical convention, then all the mathematical formulas carry over without having to introduce occasional negative signs to account for the reverse handedness. Rotation angles are always counter-clockwise. Transformation matrices operate in the way you learned in linear algebra class. Everything works out great.</p>
<p>Of course, if you aren’t one of those deeply mathematical people, then having the <var>y</var>-coordinate increase upward means that the order of reading is opposite the order of increasing coordinates.</p>
<p>Which is weird.</p>
<p>Windows 2.0 and OS/2 started out as good friends, and Windows 2.0 adopted OS/2’s bitmap format in order to foster interoperability between them. As we all know, that friendship soured over time, but the file format decision lingers on.</p>


</body>